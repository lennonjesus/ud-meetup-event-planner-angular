<md-toolbar >
  Sign up
</md-toolbar>

<br />

<div>
  <form name="userForm" ng-submit="vm.createUser(userForm)" novalidate>

    <md-content flex>
      <md-input-container class="md-block">
        <label>Name</label>
        <input ng-model="vm.user.name" ng-required="true" autocomplete="name" autofocus id="inputName">
        <div class="hint">Please, tell us your name</div>
      </md-input-container>

      <script>$(document).trigger('autofocus_ready');</script>

      <md-input-container class="md-block md-icon-float">
        <label>E-mail</label>
        <input type="email" ng-model="vm.user.email" ng-required="true" autocomplete="email" name="inputEmail">

        <div class="hint" ng-if="!vm.user.email && !userForm.inputEmail.$viewValue">
          Ex: youemail@domain.com
        </div>

        <div class="hint" md-colors="{color: 'red'}" ng-if="userForm.inputEmail.$error.email">
          The e-mail <strong>{{userForm.inputEmail.$viewValue}}</strong> is invalid!
        </div>

        <div class="hint" md-colors="{color: 'green'}" ng-if="userForm.inputEmail.$viewValue && !userForm.inputEmail.$error.email">
          The e-mail <strong>{{userForm.inputEmail.$viewValue}}</strong> is perfect!
        </div>

        <!-- <div class="hint" md-colors="{color: 'red'}">
          {{userForm.inputEmail.$error.email ? userForm.inputEmail.$viewValue + ' is invalid!' : ''}}
        </div> -->
      </md-input-container>

      <md-input-container class="md-block">
        <label>Password</label>
        <input type="password" ng-model="vm.user.password" ng-required="true" whatch-change="vm.validatePassword()"
          ng-pattern="/^(?:(?=.*[a-z])(?:(?=.*[A-Z])(?=.*[\d\W])|(?=.*\W)(?=.*\d))|(?=.*\W)(?=.*[A-Z])(?=.*\d)).{8,}$/">
        <!-- <div class="hint">Minimum 8 digits, with numbers and letters. Symbols allowed.</div> -->
        <div class="hint">{{vm.blah}}</div>
      </md-input-container>

      <md-input-container class="md-block">
        <label ng-show="vm.user.password === vm.user.repassword">Retype password</label>
        <label ng-hide="vm.user.password === vm.user.repassword" md-colors="{color: 'red'}">Retype password</label>
        <input id="retypePass" type="password" ng-model="vm.user.repassword" ng-required="true">
        <div class="hint">Please, confirm your password</div>
      </md-input-container>

      <md-input-container class="md-block">
        <label>Employer</label>
        <input ng-model="vm.user.employer" >
        <div class="hint">Your employer</div>
      </md-input-container>

      <md-input-container class="md-block">
        <label>Job title</label>
        <input ng-model="vm.user.jobTitle" >
        <div class="hint">Your job title</div>
      </md-input-container>

      <md-input-container class="md-block">
        <label>Birthday</label>
        <md-datepicker id="userBirthday" ng-model="vm.user.birthday" md-open-on-focus></md-datepicker>
      </md-input-container>

      <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
        <md-button type="submit" class="md-raised md-primary" ng-disabled="userForm.$invalid || vm.user.password !== vm.user.repassword">Create</md-button>
        <md-button class="md-raised md-warn" ui-sref="home">Cancel</md-button>
      </section>
    </md-content>

  </form>

</div>
